---
title: b+ tree κ°λ…κ³Ό μ‚½μ…, μ‚­μ  μ•μ•„λ³΄κΈ°
date: 2024-04-26 14:55:00 +09:00
categories: [data structure]
tags:
  [
    data structure,
    b+ tree
  ]
---

## π™ƒ B+ νΈλ¦¬ (B+ Tree)
- κΈ°μ΅΄μ `B-Tree`μ™€ λ°μ΄ν„°μ μ—°κ²°λ¦¬μ¤νΈλ΅ κµ¬ν„λ μƒ‰μΈκµ¬μ΅°λ‹¤.
- b-tree μ™€μ κ°€μ¥ ν° μ°¨μ΄μ μ€ λ¦¬ν”„λ…Έλ“κ°€ μ•„λ‹ λ…Έλ“(`Internal Node`)μ— λ°μ΄ν„°κ°€ μ•„λ‹ `μ£Όμ†(μΈλ±μ¤)`κ°€ λ“¤μ–΄κ°€μλ‹¤λ” κ²ƒμ΄λ‹¤.
- λ°μ΄ν„°λ“¤μ€ **λ¦¬ν”„λ…Έλ“**μ—λ§ λ“¤μ–΄μλ‹¤.

![b+tree](/assets/img/240426/b+tree.png)
![b+tree2](/assets/img/240426/b+tree2.png)

<br>

#### [μ¥μ ]
- internal nodeμ—μ„ λ°μ΄ν„°λ¥Ό μ €μ¥ν•μ§€ μ•μΌλ―€λ΅ λΈ”λ­ μ‚¬μ΄μ¦λ¥Ό λ” λ§μ΄ μ΄μ©ν•  μ μλ‹¤.
    > b treeμ internal node : `λ°μ΄ν„° + μμ‹ λ…Έλ“ ν¬μΈν„°`, b+ treeμ internal node : `μμ‹ λ…Έλ“ ν¬μΈν„°`
- λ¦¬ν”„λ…Έλ“λΌλ¦¬ μ—°κ²° λ¦¬μ¤νΈλ΅ μ—°κ²°λμ–΄ μμ–΄μ„ μμ°¨ νƒμƒ‰κ³Ό λ²”μ„ νƒμƒ‰μ— λ§¤μ° μ λ¦¬ν•λ‹¤.

<br>

#### [λ‹¨μ ]
- b treeλ” μµμƒ μΌ€μ΄μ¤μ κ²½μ° λ£¨νΈ λ…Έλ“μ—μ„ λλ‚ `O(1)` μ΄ λ  μ μμ§€λ§ b+ treeλ” λ¬΄μ΅°κ±΄ λ¦¬ν”„λ…Έλ“κΉμ§€ λ‚΄λ ¤κ°€λ΄μ•Ό ν•λ‹¤.

<br>

## π¥± λ°μ΄ν„° μ‚½μ…
> κΈ°λ³Έμ μΌλ΅ b treeμ™€ λΉ„μ·ν• λ΅μ§μ΄λ‹¤.

- μ¶”κ°€λ” ν•­μƒ λ¦¬ν”„ λ…Έλ“μ— ν•λ‹¤.
- λ…Έλ“κ°€ λ„μΉλ©΄ κ°€μ΄λ° keyλ¥Ό κΈ°μ¤€μΌλ΅ μΆμ° keyλ“¤μ„ λ¶„ν• ν•κ³  κ°€μ΄λ° keyλ” μΉμ§„ν•λ‹¤.
    - **b+ tree μ¶”κ°€**
        - μ΄λ• κΈ°μ΅΄μ— μλ κ°€μ΄λ° keyλ” μ¤λ¥Έμ½μΌλ΅ λ¶™λ”λ‹¤.
        - κ²°κ³Όμ μΌλ΅ μΉμ§„ν• keyκ°€ κ°€λ¦¬ν‚¤λ” μ¤λ¥Έμ½ μμ‹λ…Έλ“μ μ²«λ²μ§Έκ°€ μ§„μ§ λ°μ΄ν„°κ°€ λ“¤μ–΄μλ” κ°€μ΄λ° keyκ°€ λλ‹¤.

<br>

#### [λ°μ΄ν„° μ‚½μ… μμ‹]
- μ°¨μ : 3
- 45μ„ μ‚½μ…ν–μ„ λ• μ—°μ‡„μ μΌλ΅ λ¶„ν• μ΄ μΌμ–΄λ‚λ” μμ‹

![insert](/assets/img/240426/insert.png)

<br>

## π΄ λ°μ΄ν„° μ‚­μ 
> μ‚­μ λ„ λ§μ°¬κ°€μ§€λ΅ λ°μ΄ν„° μ‚­μ  ν›„ b+ tree μ΅°κ±΄μ— λ§λ”μ§€ ν™•μΈν•κ³  μ¬μ΅°μ •ν•λ” λ‹¨κ³„λ¥Ό κ±°μΉλ‹¤.

<br>

#### [b+ tree μ΅°κ±΄]
- M : μµλ€ μμ‹ μ(μ°¨μ)
- λ…Έλ“λ” μµλ€ Mκ°μ μμ‹μ„ κ°€μ§ μ μλ‹¤.
- λ…Έλ“λ” μµλ€ M-1κ°μ keyλ¥Ό κ°€μ§ μ μλ‹¤.
- λ…Έλ“μ—λ” μµμ† M/2κ°μ μμ‹ λ…Έλ“κ°€ μμ–΄μ•Ό ν•λ‹¤.
- λ£¨νΈλ¥Ό μ μ™Έν• λ…Έλ“μ—λ” μµμ† M/2 - 1 κ°μ keyκ°€ μμ–΄μ•Ό ν•λ‹¤.
- **μ‚­μ ν• ν‚¤μ μΈλ±μ¤κ°€ `internal node`μ— μ΅΄μ¬ν•λ‹¤λ©΄ ν•΄λ‹Ή λ…Έλ“λ„ μ‚­μ ν•΄μ•Ό ν•λ‹¤.**

<br>

#### [λ°μ΄ν„° μ‚­μ  μμ‹]
- μ°¨μ : 3
- μ‚­μ ν•  λ€μƒμ μΈλ±μ¤κ°€ μ—†λ” κ²½μ°(internal node μ— μ—†λ” κ²½μ°)μ™€ μλ” κ²½μ°, λ†’μ΄κ°€ λ‚®μ•„μ§€λ” κ²½μ°λ¥Ό μ•μ•„λ³΄μ

<br>

1-1. μΈλ±μ¤λ„ μ—†κ³  μ¬μ΅°μ •λ„ ν•„μ” μ—†λ” κ²½μ°
- 40 μ‚­μ 
- μ‚­μ  ν›„μ—λ„ μµμ† κ°μ μ΅°κ±΄μ„ λ§μ΅±ν•λ―€λ΅ μ¬μ΅°μ •μ΄ μΌμ–΄λ‚μ§€ μ•λ”λ‹¤.

<img src="/assets/img/240426/delete1.png" alt="delete1" width=500>

<br>

1-2. μΈλ±μ¤λ” μ—†μ§€λ§ μ¬μ΅°μ •μ΄ ν•„μ”ν• κ²½μ°
- 5 μ‚­μ 
- μµμ† κ°μ μ΅°κ±΄μ„ λ§μ΅±ν•μ§€ μ•μΌλ―€λ΅ μ¬μ΅°μ •μ΄ μΌμ–΄λ‚λ‹¤.
- ν•μ  λ…Έλ“λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό λΉλ¦¬κ³  μ΅°κ±΄μ— λ§κ² μΈλ±μ¤λ„ μ—…λ°μ΄νΈ ν•΄μ¤€λ‹¤.

<img src="/assets/img/240426/delete2.png" alt="delete2" width=500>

<br>

2-1. (μ‚­μ ν•  λ€μƒμ) μΈλ±μ¤κ°€ μκ³  μ‚­μ  ν›„ μµμ† κ°μκ°€ λ§μ΅±λλ” κ²½μ°
- 45 μ‚­μ 
- μµμ† κ°μκ°€ λ§μ΅±λλ―€λ΅ μ¬μ΅°μ •μ€ ν•„μ”ν•μ§€ μ•λ‹¤.
- μ‚­μ λ μΈλ±μ¤ λ€μ‹  κ°™μ€ λ…Έλ“ μ•μ— μλ keyλ¥Ό μΈλ±μ‹±ν•λ‹¤.

<img src="/assets/img/240426/delete3.png" alt="delete3" width=500>

<br>

2-2. μΈλ±μ¤κ°€ μκ³  μ‚­μ  ν›„ μµμ† κ°μκ°€ λ§μ΅±λμ§€ μ•λ” κ²½μ°
- 35 μ‚­μ 
- μ¬μ΅°μ •μ΄ μΌμ–΄λ‚ ν•μ  λ…Έλ“λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό λΉλ¦°λ‹¤.
- μ‚­μ λ μΈλ±μ¤μ—λ” λΉλ¦° λ°μ΄ν„°μ keyλ¥Ό μΈλ±μ‹±ν•λ‹¤.

<img src="/assets/img/240426/delete4.png" alt="delete4" width=450>

<br>

2-3. μΈλ±μ¤κ°€ μ΅°μƒ λ…Έλ“(λ¶€λ¨μ λ¶€λ¨)μ— μκ³  μµμ† κ°μκ°€ λ§μ΅±λμ§€ μ•λ” κ²½μ°
- 25 μ‚­μ 
- λ¦¬ν”„ λ…Έλ“μ—μ„λ” ν•μ λ„ μ¶©λ¶„ν• κ°μλ¥Ό κ°€μ§€κ³  μμ§€ μ•μΌλ―€λ΅ λ³‘ν•©ν•λ‹¤.
- μ‚­μ λ μΈλ±μ¤μ—λ” μ¤‘μ„ κ³„μΉμ(λ³‘ν•©ν• ν•μ  λ…Έλ“)λ΅ λ€μ²΄ν•λ‹¤.

<img src="/assets/img/240426/delete5.png" alt="delete5" width=400>

<br>

3-1. νΈλ¦¬μ λ†’μ΄κ°€ μ¤„μ–΄λ“λ” λ³µμ΅ν• κ²½μ°
- 55 μ‚­μ 

1. 55 keyμ™€ μΈλ±μ¤ μ‚­μ 
2. λ¦¬ν”„ λ…Έλ“μ μ¬μ΅°μ •
    1. ν•μ  λ…Έλ“λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό λΉλ¦΄ μ μλ”μ§€ ν™•μΈ
    2. λΉλ¦΄ μ μ—†μΌλ―€λ΅ ν•μ  λ…Έλ“μ™€ λ³‘ν•©
3. μΈλ±μ‹± μ¬μ΅°μ •
    1. ν•μ  λ…Έλ“λ΅λ¶€ν„° μΈλ±μ¤λ¥Ό λΉλ¦΄ μ μλ”μ§€ ν™•μΈ
    2. λΉλ¦΄ μ μ—†μΌλ―€λ΅ λ¶€λ¨ λ…Έλ“λ΅λ¶€ν„° λΉλ¦΄ μ μλ”μ§€ ν™•μΈ
    3. λΉλ¦΄ μ μ—†μΌλ―€λ΅ λ¶€λ¨μ™€ ν•μ λ¥Ό λ³‘ν•©
    
<img src="/assets/img/240426/delete6.png" alt="delete6" width=300>

<br>

## λ„κµ°κ°€κ°€ λ¬Όμ–΄λ³Έλ‹¤λ©΄
<div class="spotlight1" markdown="1">
`B+ Tree`λ” λ¦¬ν”„λ…Έλ“μ—λ§ λ°μ΄ν„°λ¥Ό μ €μ¥ν•μ—¬ **internal node κ³µκ°„μ„ ν¨μ¨μ μΌλ΅ μ‚¬μ©**ν•  μ μμ§€λ§ νƒμƒ‰μ„ μ„ν•΄ λ¬΄μ΅°κ±΄ λ¦¬ν”„λ…Έλ“κΉμ§€ κ°€μ•Όν•λ‹¤λ” λ‹¨μ μ΄ μμµλ‹λ‹¤.
<br><br>
λ¦¬ν”„λ…Έλ“λΌλ¦¬ μ—°κ²° λ¦¬μ¤νΈλ΅ μ—°κ²°λμ–΄ μμ–΄ `B Tree` λ³΄λ‹¤ μμ°¨ νƒμƒ‰κ³Ό λ²”μ„ νƒμƒ‰μ— μ λ¦¬ν•©λ‹λ‹¤.
</div>